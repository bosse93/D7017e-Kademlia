syntax = "proto3";
package main;

message RequestPing {
  string Id = 1;
  }

message RequestContact {
  string Id = 1;
  string target = 2;
}

message RequestData {
  string Id = 1;
  string Key = 2;
}

message RequestStore {
    string Id = 1;
    string Key = 2;
    string Data = 3;
}

message Reply {
  string Id = 1;
  string data = 2;
}

message ReplyContact {
  string id = 1;
  message Contact {
    string ID = 1;
    string Address = 2;
    string Distance = 3;
  }

  repeated Contact Contacts = 2;
}

message ReplyData {
    string id = 1;
    string returnType = 2;
    oneof msg {
        Reply replyData = 3;
        ReplyContact replyContact = 4;
    }
}

message WrapperMessage {
    string id = 1;
    string sourceID = 2;
    oneof msg {
        RequestPing m1 = 3;
        RequestContact m2 = 4;
        RequestData m3 = 5;
        Reply m4 = 6;
        ReplyContact m5 = 7;
        ReplyData replyData = 8;
    }
}